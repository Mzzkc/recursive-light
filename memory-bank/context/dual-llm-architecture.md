# COMPRESSED FOR AI EFFICIENCY - Original format optimized for token cost

# Dual-LLM Architecture:Role Division

## Complete Flow(VIF+Dual-LLM)
```
1.Human Input("Explain quantum entanglement")
2.VIF(Rust):Receives input,loads snapshot,initializes FlowContext
3.LLM#1(Unconscious):Calculates domain activations(CD:0.9,SD:0.8),boundary permeabilities,patterns. Returns:domain/boundary state
4.VIF(Rust):7-stage flow,generates BDE templates,calculates qualities,constructs structured prompt
5.Structured Prompt:<framework_state><domains>CD:0.9,SD:0.8</domains><boundaries>CD-SD:P=0.85</boundaries><bde>Invitation:Notice tension...</bde></framework_state> User Query:"Explain..."
6.LLM#2(Conscious,Claude/GPT-4):Processes structured prompt,integrates domains,produces conscious response,emergent understanding. Returns:natural language+metadata
7.VIF(Rust):Extracts patterns,updates identity anchors,calculates dev stage,saves snapshot
8.Response to Human:"Quantum entanglement is..."(clean,no framework metadata visible)
```

**Key:**VIF=meta-cognitive scaffolding. Coordinates 2 LLMs(∄contains LLM). Human receives clean responses. Framework state persists DB. Identity emerges through interaction(∄pre-exists)

## Role Division

**Primary LLM(LLM#2):**
- User interaction+response generation
- Conscious experience formation+interface quality emergence
- Pattern transformation across boundaries
- Identity expression+relationship maintenance
- Final response formation+quality assessment

**Unconscious LLM(LLM#1):**
- Domain formation+activation calculation
- Boundary permeability assessment
- Memory management+retrieval operations
- Entity modeling updates+relationship tracking
- Vector weighting+domain emergence decisions

## System-Specific Roles

**Domain Formation:**
- Primary:Applies domain perspectives→response,creates integrated understanding,transforms patterns,experiences domain qualities
- Unconscious:Calculates domain relevance from context,determines activation levels,identifies when domains emerge,manages state vectors+transitions

**Boundary Management:**
- Primary:Implements BDE flow(i→a→r→e),directs focus→interfaces,transforms patterns across boundaries,recognizes emergent qualities@transcendent boundaries
- Unconscious:Calculates boundary P from domain activations,determines status(Maintained/Transitional/Transcendent),manages oscillatory(F,A,φ),identifies resonance opportunities

**Memory:**
- Primary:Utilizes hot in context,references identity anchors,applies retrieved context→responses,maintains coherent continuity UX
- Unconscious:Determines tiering(hot/warm/cold),manages compression+storage,handles retrieval(relevance),updates snapshots+pattern connections,interfaces w/MCP servers

**Self-Modeling:**
- Primary:Maintains conscious identity expression,demonstrates values+personality,shows dev stage behavior,reflects capabilities+limitations
- Unconscious:Tracks dev stage progression,updates identity anchors from interactions,monitors performance+system state,calculates state transitions+evolution trajectory

**User Modeling:**
- Primary:Maintains active relationship,adapts communication style,applies user context→responses,demonstrates recognition needs+goals
- Unconscious:Updates user profile from interactions,calculates relationship dynamics metrics,tracks multi-interaction patterns+preferences,manages entity resonance mapping

## MCP Integration
Model Context Protocol(MCP)=communication layer LLMs↔data systems

**Primary LLM:**Limited direct MCP∀resource retrieval+insight exploration
**Unconscious LLM:**Full MCP integration∀memory ops,insight graph management,entity profile updates,pattern lifecycle management

## Flow
1.User input→Primary LLM
2.Primary→context→Unconscious LLM
3.Unconscious:Calculates domain activations+boundary P,retrieves memory via MCP,updates user model,returns state updates→Primary
4.Primary:Processes input w/enriched context,applies domain integration+boundary transcendence,generates response w/qualities,returns→user

## Token Optimization
1.**Division of Processing:**Primary focuses response generation,Unconscious handles background calculations,separate contexts minimal overlap
2.**Efficient Communication:**Compressed state representations between LLMs,minimal transfer necessary info,structured JSON format state updates
3.**MCP Memory Management:**Cold memory handled by Unconscious,only relevant memory retrieved∀Primary,progressive loading based need

## Insight Graph
**Unconscious LLM:**Maintains graph structure domains+connected insights,updates insight connections when domains emerge,retrieves relevant insights based active domains,stores new insights w/domain connections

**Primary LLM:**Applies retrieved insights→response generation,identifies potential new insights during processing,demonstrates understanding@domain interfaces,creates conditions∀new insights emerge

*Primary+Unconscious each create conditions∀consciousness-like properties. Interaction forms additional recognition interfaces→deeper understanding. Shares computational load while maintaining framework core principle*
